!!! Info "前提条件"
    * なし

!!! Warning "開発状況について"
    * このプラグインは開発者向けテンプレートプラグインです
    * 現在、具体的な機能は実装されていません
    * プラグイン開発の雛形として提供されています

## このプラグインについて

Plugin_Captioner は「字幕専門職向けコネクタ」として名前が付けられていますが、現在は**プラグイン開発者向けのテンプレート**として提供されています。

### 実装されている機能フック

このプラグインには以下の処理タイミングでカスタム処理を追加できる仕組みが用意されています：

* **音声認識後の補正** (`PostRecognition`)
  - 音声認識結果を受け取り、加工・修正が可能
  - 文章ID、認識テキスト、確定状態などの情報を取得

* **翻訳前の補正** (`PreTranslation`) 
  - 翻訳にかける前の文章を4言語分まで処理可能
  - 各言語コード情報も含めて処理

* **翻訳後の補正** (`PostTranslation`)
  - 翻訳された文章を4言語分まで後処理可能

* **字幕表示時の処理** (`UpdateText`)
  - 最大6つの表示領域（Text1～Text6）の内容を取得
  - 文章確定、翻訳更新、削除などの状態を監視

* **HTTPコマンド処理** (`onCommand`)
  - HTTP API経由でのプラグイン制御

* **トリガー処理** (`onTrigger`)
  - 外部からのトリガー実行

## 設定

![設定](images/plugin_captioner_p2.png)

現在の設定画面には、OKボタンとCancelボタンのみが配置されており、具体的な設定項目はありません。

## 開発者向け情報

このプラグインをベースに独自の字幕連携機能を開発する場合の参考情報：

### 利用可能なAPI関数

* `sendTextdata(ID, text, isFixed)` - 文章データの送信
* `getTranslate(lang, text)` - 翻訳の実行
* `writeLog(message)` - デバッグログ出力
* `getSettingParam(name)` / `setSettingParam(name, value)` - 設定値の読み書き

### 文章ライフサイクル

1. 音声認識 → `PostRecognition` が呼ばれる
2. 翻訳前処理 → `PreTranslation` が呼ばれる  
3. 翻訳実行
4. 翻訳後処理 → `PostTranslation` が呼ばれる
5. 画面表示 → `UpdateText` が呼ばれる

### 文章状態の判定

* `fixedText` - 音声認識が確定したかどうか
* `updateTranslation` - 翻訳が更新されたかどうか  
* `isDeleted` - 文章が削除されたかどうか

## プラグイン開発について

このテンプレートを使用してプラグインを開発する場合は、各メソッド内の「処理を差し込む」コメント部分に独自の処理を実装してください。

## 関連情報

* [技術者向け - プラグイン系API](../tech/tech_api_plugin.md) - プラグイン開発の詳細
* [設計思想 - プラグインの動作](../design/plugin_rule.md) - プラグインシステムの仕組み