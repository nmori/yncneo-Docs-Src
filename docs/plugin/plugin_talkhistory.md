!!! Info "前提条件"
    * なし

## このプラグインで出来ること

* 音声認識で話した内容を全自動で記録・保存
* Claude（AI）と連携して、過去の会話を検索・参照
* 配信や会議の振り返りに最適
* CSV/JSONファイルでデータのバックアップも可能

## 有効化

![再生](images/plugin_talkhistory_p1.png)

* プラグインを使うチェックをONにしてください。

## 基本の使い方

### 自動記録機能

* プラグインを有効にすると、確定した発話内容が自動的にデータベースに保存されます
* 保存されるのは以下のタイミング：
    * 音声認識の文章が確定したとき
    * 削除されていない文章のみ
* 記録された内容は自動的に日付・時刻と一緒に保存されます

## 記録の確認と管理

### プラグイン設定画面で出来ること

![再生](images/plugin_talkhistory_p2.png)

#### 保存済み会話の管理

1. **会話数確認**: 現在保存されている会話数が表示されます
2. **データエクスポート**: 
    * CSV形式またはJSON形式でバックアップ可能
    * ファイル名は自動生成（例：TalkHistory_20250809_140530.json）
3. **データインポート**: バックアップしたファイルからデータを復元
4. **全データ削除**: すべての記録を完全削除（二段階確認あり）

### Claude（AI）との連携機能

* **自動MCPサーバ起動**: プラグインが自動的にClaude連携サーバを起動
* **Claude Desktopから直接アクセス**: AIが過去の会話を検索・参照可能
* **リアルタイム連携**: 新しい会話もすぐにAIが参照できる

## 活用シーン

### 💼 会議・打ち合わせ
* 会議の議事録作成をAIが支援
* 「前回何を決めたっけ？」をAIに質問して即座に回答
* 重要な決定事項を見逃さずに記録

### 🎥 ライブ配信・コンテンツ制作
* 配信中の面白い発言を自動で記録
* 「あの話題、いつ頃話したっけ？」をAIに質問
* 定期的な企画のネタ探しも簡単

### 📚 学習・練習
* 英語学習の進歩を発話履歴から確認
* 以前より上達した点や改善点を確認
* 発音練習の結果を長期的に記録

### 🤖 Claude（AI）との日常会話
* 「最近どんなことを話していた？」
* 「〇〇について、前に何を話したか教えて」
* 「今月よく話したトピックは？」

## Claude（AI）とお話ししてみよう

### 設定が必要です

1. **設定ファイルを開く**
    * Windows: メモ帳で `%APPDATA%\Claude\claude_desktop_config.json` を開く
    * Mac: テキストエディタで `~/.claude/claude_desktop_config.json` を開く

2. **以下の内容を追加して保存**
```json
{
  "mcpServers": {
    "talk-history": {
      "transport": {
        "type": "tcp",
        "host": "localhost", 
        "port": 8765
      },
      "description": "Talk History - 会話履歴の参照と検索"
    }
  }
}
```

3. **Claude Desktopを再起動**

### 使い方の例

Claude Desktopでこんなことが聖けます：
* 「最近何を話しましたか？」
* 「プラグインについて話したことを教えて」
* 「今月はどのくらい話しましたか？」

## 使う前に知っておいてほしいこと

!!! warning "プライバシーについて"
    * 話した内容が全て自動で記録されます
    * 秘密の話や個人的な内容も記録対象です
    * 家族や他の人と共用するPCでは注意してください
    * データはあなたのPC内のみに保存されます（インターネットには送信されません）

## よくある質問

**Q: データはどこに保存されますか？**  
A: ゆかコネNEOの設定フォルダ内の`TalkHistory.db`というデータベースファイルに保存されます。

**Q: 他のパソコンでも同じ履歴を見たい**  
A: 設定画面の「エクスポート」機能でバックアップファイルを作成し、他のPCで「インポート」することで移行できます。

**Q: Claudeが会話履歴を読めないみたいです**  
A: 以下を確認してみてください：
* プラグインのチェックボックスがオンになっているか
* 設定ファイルを正しく編集できているか
* Claude Desktopを一度終了して再度開いてみたか
* 他のソフトがポート8765を使っていないか

**Q: 音声認識の間違いも記録されますか？**  
A: はい、確定された文章がそのまま記録されます。ただし、AIは文脈から内容を理解するため、多少の誤認識があっても適切に検索・回答できます。

**Q: たくさん記録しても大丈夫？**  
A: 数万件の会話でも遅くならずに検索できます。心配いりません。

**Q: 特定の日付やテーマで検索したい**  
A: Claude Desktopで「8月の会話を教えて」「ゲームについて話したことを教えて」など、普通の言葉で検索できます。